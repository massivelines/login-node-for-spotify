<html>
      <head>
        <meta charset="UTF-8">
        <title>README.md</title>
      </head>
      <body>
        <h1 id="login-node-for-spotify">Login Node for Spotify</h1>
<p>A node.js remote server built to log into the Spotify API. It is setup for minimal calls. It passes the response token to the browser, so that the browser can be used for the API calls.  </p>
<p>When the login popup is called, node redirects the popup address for the user to login to Spotify. After the user logs in and approves the access scopes  the popup sends the data to node, node then returns with a code. That code is then sent back to Spotify with the client id and secret to be authenticated. A return object containing tokens are then returned to node and stored in local storage to be used by the client side.</p>
<h2 id="getting-started">Getting Started</h2>
<p>The server must be setup correctly. Then add the correct javascript to the client side.</p>
<h3 id="servers">Servers</h3>
<p>The server can be run locally and also deployed to Heroku. You will need to register your own Spotify app and pass the credentials to the server. For that:</p>
<ol>
<li>Create an application on <a href="https://developer.spotify.com/my-applications/">Spotify&#39;s Developer Site</a>.</li>
<li>Add as redirect URIs both <code>http://localhost:5000/callback</code> (for development) and <code>&lt;production_domain&gt;/callback</code> (if you want to deploy your app somewhere)</li>
<li>Keep the client ID and client secret somewhere. You&#39;ll need them next.</li>
</ol>
<h4 id="running-locally">Running Locally</h4>
<p>Link the js file at the end of the body.</p>
<pre><code class="lang-html">&lt;script src=&quot;http://localhost:5000/app.js&quot;&gt;&lt;/script&gt;
</code></pre>
<p>Install <a href="http://nodejs.org/">Node.js</a> if you dont have it already.</p>
<pre><code class="lang-sh">cd into directory
------------------
npm install
set CLIENT_ID=&lt;your_client_id&gt;
set CLIENT_SECRET=&lt;your_client_secret&gt;
set REDIRECT_URI=&lt;your_redirect_uri&gt;
npm start
</code></pre>
<p>Your app should now be running on <a href="http://localhost:5000/">localhost:5000</a>.</p>
<h4 id="remote-server">Remote Server</h4>
<p>If you dont already have an account with <a href="https://www.heroku.com/">Heroku</a> create one.</p>
<ol>
<li>Clone this repository</li>
<li>Create a new app</li>
<li>Use GitHub as a deployment method</li>
<li>Deploy master branch</li>
</ol>
<p>Under Settings and Config Variables add</p>
<pre><code>key &lt;value&gt;
------------------
CLIENT_ID &lt;your_client_id&gt;
CLIENT_SECRET &lt;your_client_secret&gt;
REDIRECT_URI &lt;your_redirect_uri&gt;
</code></pre><p>or<br>TODO: deploy launch button</p>
<p>Import the script into your html file:</p>
<pre><code class="lang-html">&lt;script src=&quot;https://&lt;your-app-name&gt;.herokuapp.com/app.js&quot;&gt;&lt;/script&gt;
</code></pre>
<h2 id="client-side">Client Side</h2>
<p>Define your server and scopes</p>
<pre><code class="lang-js">var scopes = [&#39;user-read-playback-state&#39;]; //scopes for permissions
var nodeHost = &#39;...&#39;; //location of node server
//example: http://localhost:5000 or https://&lt;your-app-name&gt;.herokuapp.com

var spotify = new SpotifyHeroku(scopes, nodeHost); //passes vars to class
</code></pre>
<p>Calls to initiate the function</p>
<pre><code class="lang-js">//starts login and launches popup
//login will hide the element with the ID of &#39;login&#39;
spotify.login();

//logout will show the element with the ID of &#39;login&#39;
//clears localStorage and stops some loops
spotify.logout();

//optional can force a token refresh
spotify.refresh();
</code></pre>
<p>Usage Example</p>
<pre><code class="lang-js">document.getElementById(&#39;login&#39;).addEventListener(&quot;click&quot;, function() {
  spotify.login();
});
</code></pre>
<p>Launch fuction is called when the user has succesfly logged in</p>
<pre><code class="lang-js">// called from app.js after logged in
function launch() {

}
</code></pre>
<h2 id="license">License</h2>
<p>This project is licensed under the MIT License - see the <a href="LICENSE.md">LICENSE.md</a> file for details</p>
<h2 id="inspiration-from">Inspiration from</h2>
<p><a href="https://github.com/JMPerez/spotify-player">spotify-player</a></p>

      </body>
    </html>